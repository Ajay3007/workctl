<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.layout.*?>
<?import javafx.scene.control.*?>
<?import javafx.geometry.*?>

<BorderPane xmlns:fx="http://javafx.com/fxml"
            fx:controller="com.workctl.gui.controller.MainController">

    <left>
        <VBox spacing="8" prefWidth="220">
            <padding>
                <Insets top="12" right="10" bottom="10" left="10"/>
            </padding>

            <!-- Header: label + count -->
            <HBox alignment="CENTER_LEFT" spacing="6">
                <Label text="Projects"
                       style="-fx-font-size: 15; -fx-font-weight: bold;"/>
                <Label fx:id="projectCountLabel"
                       text=""
                       style="-fx-text-fill: #888888; -fx-font-size: 11;"/>
            </HBox>

            <!-- Create Project button -->
            <Button text="＋ New Project"
                    onAction="#handleCreateProject"
                    maxWidth="Infinity"
                    style="
                        -fx-background-color: #2ecc71;
                        -fx-text-fill: white;
                        -fx-font-weight: bold;
                        -fx-font-size: 12;
                        -fx-background-radius: 6;
                        -fx-padding: 7 12 7 12;
                        -fx-cursor: hand;
                    "/>

            <!-- Project list -->
            <ListView fx:id="projectListView"
                      VBox.vgrow="ALWAYS"/>

            <!-- Delete Project button -->
            <Button fx:id="deleteProjectBtn"
                    text="✕ Delete Project"
                    onAction="#handleDeleteProject"
                    maxWidth="Infinity"
                    style="
                        -fx-background-color: #e74c3c;
                        -fx-text-fill: white;
                        -fx-font-weight: bold;
                        -fx-font-size: 12;
                        -fx-background-radius: 6;
                        -fx-padding: 7 12 7 12;
                        -fx-cursor: hand;
                    "/>

        </VBox>
    </left>

    <center>
        <!-- AI Agent tab is added programmatically in MainController.initialize() -->
        <TabPane fx:id="mainTabPane">
            <Tab text="Tasks">
                <fx:include source="tasks.fxml" fx:id="tasksView"/>
            </Tab>

            <Tab text="Logs">
                <fx:include source="logs.fxml" fx:id="logsView"/>
            </Tab>

            <Tab text="Stats">
                <fx:include source="stats.fxml" fx:id="statsView"/>
            </Tab>
        </TabPane>
    </center>

</BorderPane>
